!function(){"use strict";angular.module("epgu").directive("footerCms",["$compile","$parse","$http","$rootScope","RegionService","MainPageService","CMSService",function(i,e,t,r,a,u,f){function g(o,c,n){"PARTNERS"!=r.viewType?u.getMainBlocksData():f.getFooter().then(function(e){var e=e.data,t=(c.html(e.content),c.find(".action"));o.action=[];for(var n=0;n<t.length;n++)o.action.push(!1);i(c.contents())(o),o.change=function(e,t){return e.preventDefault(),o.action[t]=!o.action[t],!1}}),r.$watch("userSelectedRegion",function(e,t){e!=t&&a.get().then(function(e){g(o,c,n)})})}return{restrict:"E",link:g,scope:!0}}])}();